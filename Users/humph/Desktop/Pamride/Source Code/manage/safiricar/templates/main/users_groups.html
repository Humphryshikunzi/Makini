{% extends './base.html' %}
{% block content %}

<style> 
  
  /* Float four columns side by side */
  .column {
      float: left; 
      width: 50%;
      padding: 0 10px;
  }
  
  /* Responsive columns */
  @media screen and (max-width: 600px) {
      .column {
          width: 100%;
          display: block;
          margin-bottom: 20px;
      }
  }

  /* Style the counter cards */
  .card {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
      padding: 16px;
      text-align: center; 
      height: 210px;
  }
</style>

<div style="margin: 10px 0 0 10px;width: 1000px;min-height: 450px;">
  <h3>Pamride Users Metrics</h3>
  <div>
    <div id="grid" class="column">
      <div id="piechart_3d" class="card" style="width: 500px; height: 400px;"></div>
    </div>
    <div id="grid2" class="column">            
      <div id="piechart2_3d" class="card" style="width: 500px; height: 400px;"></div>
    </div>    
  </div>
</div>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load("current", { packages: ["corechart"] });
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    var users_by_type = google.visualization.arrayToDataTable([
      {% for key, value in users_by_type.items() %}
  {% if value is string %}
  ['{{ key }}', '{{ value }}'],
    {% else %}
  ['{{ key }}', {{ value }}],
    {% endif %}
  {% endfor %}
        ]);

  var options = {
    title: 'Users By Type',
    is3D: true,
  };

  var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
  chart.draw(users_by_type, options);
      }
</script>
<script type="text/javascript">
  google.charts.load("current", { packages: ["corechart"] });
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    var users_by_region = google.visualization.arrayToDataTable([
      {% for key, value in users_by_region.items() %}
  {% if value is string %}
  ['{{ key }}', '{{ value }}'],
    {% else %}
  ['{{ key }}', {{ value }}],
    {% endif %}
  {% endfor %}
        ]);

  var options = {
    title: 'Users By Region',
    is3D: true,
  };

  var chart = new google.visualization.PieChart(document.getElementById('piechart2_3d'));
  chart.draw(users_by_region, options);
      }
</script>  
{% endblock content %}